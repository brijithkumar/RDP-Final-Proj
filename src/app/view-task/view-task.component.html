
<form #taskViewForm="ngForm">
  <div class="d-flex flex-column col-9 pr-0">
  <div class="form-group d-flex flex-wrap flex-lg-nowrap">
  <div class="form-group d-flex flex-row mr-lg-2 flex-grow-1 justify-content-between">
  <label for="first_name" class="text-nowrap pr-0 font-weight-bold">Project:</label>
  <input type="text" class="form-control rounded-0 bg-light mr-1" id="projectName" name="projectName" 
        [(ngModel)]="projectTaskSearchName">
  <div>
  
  <button class="form-control btn btn-sm border-dark rounded-circle"  (click)="searchProjects();" id="searchProject"
        type="button">Search</button>
  </div>
  </div>
  
  
  <div class="d-flex mt-1 mt-lg-0">
  <label class="control-label text-nowrap mr-1">Sort Task By:</label>
  <div class="d-flex flex-wrap flex-md-nowrap">
  <button type="button" class="btn btn-light rounded-0 border-dark px-0 mr-2 mr-md-1 mb-1 mb-md-0 flex-grow-1" 
    (click)="sortBy('startDate')" id="startDateSort">Start Date</button>
  <button type="button" class="btn btn-light rounded-0 border-dark px-0 mr-2 mr-md-1 mb-1 mb-md-0 flex-grow-1"
    (click)="sortBy('endDate')" id="endDateSort">End Date</button>
  <button type="button" class="btn btn-light rounded-0 border-dark px-0 mr-2 mr-md-1 mb-1 mb-md-0 flex-grow-1"
    (click)="sortBy('priority')" id="prioritySort">Priority</button>
  <button type="button" class="btn btn-light rounded-0 border-dark px-0 mr-2 mr-md-1 mb-1 mb-md-0 flex-grow-1"
    (click)="sortBy('taskStatus')" id="taskStatusSort">Completed</button>
  </div>
  </div>
  
  </div>
  
  
  
  <div *ngFor="let task of tasks | projectTaskFilter : projectTaskSearchName" class="border-dotted mx-0 pt-2 d-flex flex-wrap flex-lg-nowrap">

  <div class="d-flex flex-column mr-1 flex-grow-1 col-lg-3">
  <label class="control-label text-nowrap font-weight-bold text-center">Task</label>
  <div class="border-0 rounded-0 bg-light px-2 py-1 flex-grow-1 flex-shrink-1 text-wrap" >{{task.taskName}}</div>
  </div>
  <div class="d-flex flex-column mr-1 flex-grow-1 col-lg-3">
  <label class="control-label text-nowrap font-weight-bold text-center">Parent</label>
  <div class="rounded-0 border-0 bg-light px-2 py-1 flex-grow-1 flex-shrink-1 text-wrap" > {{task.parentTask.parentTaskName}}
  </div>
  </div>
  <div class="d-flex flex-column mr-1">
  <label class="control-label text-nowrap font-weight-bold">Priority</label>
  <div class="form-control rounded-0 border-0" id="" name="">{{task.priority}}</div>
  </div>
  <div class="d-flex flex-column mr-1 flex-grow-1">
  <label class="control-label text-nowrap font-weight-bold">Start</label>
  <div class="form-control rounded-0 border-0 px-0" id="" name="">{{task.startDate}}</div>
  </div>
  <div class="d-flex flex-column mr-1 flex-grow-1">
  <label class="control-label text-nowrap font-weight-bold">End</label>
  <div class="form-control rounded-0 border-0 px-0" id="" name="">{{task.endDate}}</div>
  </div>
 
  <div class="d-flex justify-content-between flex-shrink-0">
  
  <button type="button" class="btn btn-light rounded-0 border-dark text-dark px-1 my-4 mr-1" id="editTask"
          routerLink="/editTask/{{task.taskId}}">Edit</button>
  <button type="button" class="btn btn-light rounded-0 border-dark text-dark px-1 my-4" id="endTask"
      (click)="endTask(task)">End Task</button>
  </div>

 
  </div>
  
  
  <div *ngIf="statusFlag === 1" class="alert alert-success col-8">
    {{statusMessage}}
  </div>
  <div *ngIf="statusFlag === 2" class="alert alert-danger col-8">
    {{statusMessage}}
  </div>
  
  </div>
  </form>